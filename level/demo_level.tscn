[gd_scene load_steps=12 format=4 uid="uid://c6wxft03e4t0m"]

[ext_resource type="PackedScene" uid="uid://c3dmp6ktllqnl" path="res://scene/UI/ui.tscn" id="1_g82vk"]
[ext_resource type="Script" path="res://script/entity/buildutils/BuildUtils.gd" id="2_83224"]
[ext_resource type="Script" path="res://level/ResourceUtils.gd" id="2_l86aw"]
[ext_resource type="Script" path="res://script/entity/entitymanager/EntityManager.gd" id="2_p2aqo"]
[ext_resource type="Script" path="res://level/debug_building_layer.gd" id="3_no30c"]
[ext_resource type="Resource" uid="uid://baa6wslwphhnu" path="res://script/resource/building/SchoolData.tres" id="3_ohqkt"]
[ext_resource type="TileSet" uid="uid://dsnnh7f4ckv0w" path="res://scene/tileset/grasstree.tres" id="3_qmqw6"]
[ext_resource type="Script" path="res://script/component/playerinput/PlayerInput.gd" id="6_i0wp4"]
[ext_resource type="Script" path="res://script/resource/CityResource.gd" id="7_dqgsa"]
[ext_resource type="Script" path="res://script/entity/cardmanager/CardManager.gd" id="10_0c5ni"]

[sub_resource type="Resource" id="Resource_fb7xx"]
script = ExtResource("7_dqgsa")
population = 10
mood = 10
health = 10
money = 10

[node name="Level" type="Node"]

[node name="UI" parent="." instance=ExtResource("1_g82vk")]

[node name="EntityManager" type="Node2D" parent="."]
script = ExtResource("2_p2aqo")

[node name="Camera2D" type="Camera2D" parent="EntityManager"]
position = Vector2(212, 114)
zoom = Vector2(2, 2)

[node name="BackgroundLayer" type="TileMapLayer" parent="EntityManager"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAAAAAwAHAAEAAAAAAAEAAwAGAAAAAAABAAAAAwAHAAEAAAABAAEAAwAHAAEAAAACAAAAAwACAAAAAAACAAEAAwAHAAEAAAADAAAAAwAHAAEAAAADAAEAAwAHAAEAAAAEAAAAAwAGAAEAAAAEAAEAAwACAAEAAAAFAAAAAwAHAAAAAAAFAAEAAwAHAAEAAAABAAIAAwACAAAAAAACAAIAAwADAAEAAAADAAIAAwAHAAAAAAAEAAIAAwADAAEAAAAFAAIAAwACAAAAAAAGAAIAAwADAAEAAAAHAAIAAwACAAAAAAAIAAIAAwACAAAAAAAJAAIAAwACAAAAAAAKAAIAAwAHAAAAAAALAAIAAwAHAAAAAAAMAAIAAwACAAEAAAANAAIAAwAHAAEAAAAOAAIAAwAHAAEAAAAPAAIAAwAAAAIAAAAAAAIAAwACAAEAAAAAAAMAAwACAAEAAAAAAAQAAwACAAEAAAAAAAUAAwAHAAAAAAAAAAYAAwAHAAEAAAAAAAcAAwACAAEAAAAAAAgAAwAEAAAAAAAAAAkAAwAEAAEAAAABAAMAAwACAAAAAAABAAQAAwAHAAAAAAABAAUAAwACAAEAAAABAAYAAwACAAAAAAABAAcAAwAHAAAAAAABAAgAAwAFAAAAAAABAAkAAwAFAAEAAAACAAMAAwADAAEAAAACAAQAAwADAAEAAAACAAUAAwACAAAAAAACAAYAAwAHAAAAAAACAAcAAwAHAAEAAAACAAgAAwAEAAAAAAACAAkAAwAEAAEAAAADAAMAAwACAAEAAAADAAQAAwAGAAEAAAADAAUAAwACAAAAAAADAAYAAwAHAAEAAAADAAcAAwACAAAAAAADAAgAAwAIAAAAAAADAAkAAwAIAAEAAAAEAAMAAwACAAAAAAAEAAQAAwAHAAAAAAAEAAUAAwACAAAAAAAEAAYAAwAHAAEAAAAEAAcAAwADAAEAAAAEAAgAAwAJAAAAAAAEAAkAAwAJAAEAAAAFAAMAAwADAAEAAAAFAAQAAwAHAAEAAAAFAAUAAwACAAEAAAAFAAYAAwAHAAEAAAAFAAcAAwAGAAEAAAAFAAgAAwAIAAAAAAAFAAkAAwAIAAEAAAAGAAMAAwAHAAAAAAAGAAQAAwADAAEAAAAGAAUAAwAHAAEAAAAGAAYAAwAGAAAAAAAGAAcAAwACAAAAAAAGAAgAAwAJAAAAAAAGAAkAAwAJAAEAAAAHAAMAAwAHAAAAAAAHAAQAAwAGAAEAAAAHAAUAAwADAAEAAAAHAAYAAwAHAAEAAAAHAAcAAwACAAEAAAAHAAgAAwAIAAAAAAAHAAkAAwAIAAEAAAAIAAMAAwADAAAAAAAIAAQAAwADAAAAAAAIAAUAAwAGAAEAAAAIAAYAAwAHAAAAAAAIAAcAAwADAAAAAAAIAAgAAwAIAAAAAAAIAAkAAwAIAAEAAAAJAAMAAwACAAEAAAAJAAQAAwADAAAAAAAJAAUAAwADAAAAAAAJAAYAAwACAAEAAAAJAAcAAwAHAAAAAAAJAAgAAwAJAAAAAAAJAAkAAwAJAAEAAAAKAAMAAwACAAAAAAAKAAQAAwADAAEAAAAKAAUAAwACAAAAAAAKAAYAAwACAAEAAAAKAAcAAwAGAAEAAAAKAAgAAwAIAAAAAAAKAAkAAwAIAAEAAAALAAMAAwAGAAEAAAALAAQAAwACAAAAAAALAAUAAwAGAAEAAAALAAYAAwAGAAAAAAALAAcAAwADAAEAAAALAAgAAwAJAAAAAAALAAkAAwAJAAEAAAAMAAMAAwAHAAAAAAAMAAQAAwAGAAAAAAAMAAUAAwACAAAAAAAMAAYAAwAGAAEAAAAMAAcAAwACAAEAAAAMAAgAAwAIAAAAAAAMAAkAAwAIAAEAAAANAAMAAwACAAEAAAANAAQAAwAGAAAAAAANAAUAAwADAAAAAAANAAYAAwADAAEAAAANAAcAAwACAAAAAAANAAgAAwAJAAAAAAANAAkAAwAJAAEAAAAOAAMAAwADAAEAAAAOAAQAAwACAAEAAAAOAAUAAwADAAEAAAAOAAYAAwADAAEAAAAOAAcAAwAHAAEAAAAOAAgAAwAIAAAAAAAOAAkAAwAIAAEAAAAPAAMAAwAAAAMAAAAPAAQAAwAAAAIAAAAPAAUAAwAAAAMAAAAPAAYAAwAAAAIAAAAPAAcAAwAAAAMAAAAPAAgAAwAJAAAAAAAPAAkAAwAJAAEAAAAQAAIAAwAIAAAAAAAQAAMAAwAIAAEAAAAQAAQAAwAIAAAAAAAQAAUAAwAIAAEAAAAQAAYAAwAIAAAAAAAQAAcAAwAIAAEAAAAQAAgAAwAIAAAAAAAQAAkAAwAIAAEAAAARAAIAAwAJAAAAAAARAAMAAwAJAAEAAAARAAQAAwAJAAAAAAARAAUAAwAJAAEAAAARAAYAAwAJAAAAAAARAAcAAwAJAAEAAAARAAgAAwAJAAAAAAARAAkAAwAJAAEAAAAGAAAAAwACAAEAAAAGAAEAAwACAAEAAAAHAAAAAwAGAAAAAAAHAAEAAwAGAAAAAAAIAAAAAwAGAAAAAAAIAAEAAwACAAEAAAAJAAAAAwACAAEAAAAJAAEAAwAGAAAAAAAKAAAAAwAHAAEAAAAKAAEAAwACAAAAAAALAAAAAwADAAEAAAALAAEAAwACAAAAAAAMAAAAAwAHAAEAAAAMAAEAAwAGAAEAAAANAAAAAwAHAAEAAAANAAEAAwAGAAEAAAAOAAAAAwADAAEAAAAOAAEAAwAGAAEAAAAPAAAAAwAAAAIAAAAPAAEAAwAAAAMAAAAQAAAAAwABAAIAAAAQAAEAAwABAAMAAAARAAAAAwAIAAAAAAARAAEAAwAIAAEAAAD+/wAAAwAIAAIAAAD+/wEAAwAIAAMAAAD+/wIAAwAIAAIAAAD+/wMAAwAIAAMAAAD+/wQAAwAIAAIAAAD+/wUAAwAIAAMAAAD+/wYAAwAIAAIAAAD+/wcAAwAIAAMAAAD+/wgAAwAEAAAAAAD+/wkAAwAEAAEAAAD//wAAAwAJAAIAAAD//wEAAwAJAAMAAAD//wIAAwAJAAIAAAD//wMAAwAJAAMAAAD//wQAAwAJAAIAAAD//wUAAwAJAAMAAAD//wYAAwABAAAAAAD//wcAAwABAAEAAAD//wgAAwAFAAAAAAD//wkAAwAFAAEAAAASAAAAAwAJAAAAAAASAAEAAwAJAAEAAAATAAAAAwAFAAAAAAATAAEAAwAFAAEAAAASAAIAAwABAAIAAAASAAMAAwABAAMAAAATAAIAAwAIAAAAAAATAAMAAwAIAAEAAAASAAQAAwAIAAAAAAASAAUAAwAIAAEAAAATAAQAAwAJAAAAAAATAAUAAwAJAAEAAAASAAYAAwABAAQAAAASAAcAAwABAAUAAAATAAYAAwAIAAAAAAATAAcAAwAIAAEAAAASAAgAAwAIAAAAAAASAAkAAwAIAAEAAAATAAgAAwAJAAAAAAATAAkAAwAJAAEAAAD+//7/AwAEAAAAAAD+////AwAEAAEAAAD///7/AwAFAAAAAAD/////AwAFAAEAAAAAAP7/AwAEAAAAAAAAAP//AwAEAAEAAAABAP7/AwAFAAAAAAABAP//AwAFAAEAAAACAP7/AwAEAAAAAAACAP//AwAEAAEAAAADAP7/AwAFAAAAAAADAP//AwAFAAEAAAAEAP7/AwAEAAAAAAAEAP//AwAEAAEAAAAFAP7/AwAFAAAAAAAFAP//AwAFAAEAAAAGAP7/AwAEAAAAAAAGAP//AwAEAAEAAAAHAP7/AwAFAAAAAAAHAP//AwAFAAEAAAAIAP7/AwAEAAAAAAAIAP//AwAEAAEAAAAJAP7/AwAFAAAAAAAJAP//AwAFAAEAAAAKAP7/AwAEAAAAAAAKAP//AwAEAAEAAAALAP7/AwAFAAAAAAALAP//AwAFAAEAAAAMAP7/AwAEAAAAAAAMAP//AwAEAAEAAAANAP7/AwAFAAAAAAANAP//AwAFAAEAAAAOAP7/AwAEAAAAAAAOAP//AwAEAAEAAAAPAP7/AwAFAAAAAAAPAP//AwAFAAEAAAAQAP7/AwAEAAAAAAAQAP//AwAEAAEAAAARAP7/AwAFAAAAAAARAP//AwAFAAEAAAASAP7/AwAEAAAAAAASAP//AwAEAAEAAAATAP7/AwAFAAAAAAATAP//AwAFAAEAAAD8/wAAAwAIAAAAAAD8/wEAAwAIAAEAAAD9/wAAAwAJAAAAAAD9/wEAAwAJAAEAAAD8/wIAAwAIAAAAAAD8/wMAAwAIAAEAAAD9/wIAAwAJAAAAAAD9/wMAAwAJAAEAAAD8/wQAAwAIAAAAAAD8/wUAAwAIAAEAAAD9/wQAAwAJAAAAAAD9/wUAAwAJAAEAAAD8/wYAAwAIAAAAAAD8/wcAAwAIAAEAAAD9/wYAAwAJAAAAAAD9/wcAAwAJAAEAAAD8//7/AwAIAAAAAAD8////AwAIAAEAAAD9//7/AwAJAAAAAAD9////AwAJAAEAAAD8/wgAAwAIAAAAAAD8/wkAAwAIAAEAAAD9/wgAAwAJAAAAAAD9/wkAAwAJAAEAAAA=")
tile_set = ExtResource("3_qmqw6")

[node name="BuildingLayer" type="TileMapLayer" parent="EntityManager"]
script = ExtResource("3_no30c")

[node name="BuildUtils" type="Node" parent="EntityManager" node_paths=PackedStringArray("tile_layer")]
script = ExtResource("2_83224")
test_building = ExtResource("3_ohqkt")
tile_layer = NodePath("../BackgroundLayer")
grid_bounds = Vector2i(15, 8)

[node name="ResourceUtils" type="Node" parent="EntityManager" node_paths=PackedStringArray("build_utils")]
script = ExtResource("2_l86aw")
build_utils = NodePath("../BuildUtils")
resource = SubResource("Resource_fb7xx")

[node name="PlayerInput" type="Node2D" parent="EntityManager" node_paths=PackedStringArray("build_utils")]
script = ExtResource("6_i0wp4")
build_utils = NodePath("../BuildUtils")

[node name="CardManager" type="Node" parent="EntityManager"]
script = ExtResource("10_0c5ni")
deck_starters = Array[int]([10, 10, 10, 10, 10])
hand_limit = 5
deck_size = 50

[connection signal="building_built" from="EntityManager/BuildUtils" to="EntityManager" method="_on_build_utils_building_built"]
