[gd_scene load_steps=13 format=4 uid="uid://c6wxft03e4t0m"]

[ext_resource type="PackedScene" uid="uid://c3dmp6ktllqnl" path="res://scene/UI/ui.tscn" id="1_g82vk"]
[ext_resource type="Script" path="res://script/entity/buildutils/BuildUtils.gd" id="2_83224"]
[ext_resource type="Script" path="res://level/ResourceUtils.gd" id="2_l86aw"]
[ext_resource type="Script" path="res://script/entity/entitymanager/EntityManager.gd" id="2_p2aqo"]
[ext_resource type="Script" path="res://level/debug_building_layer.gd" id="3_no30c"]
[ext_resource type="Resource" uid="uid://baa6wslwphhnu" path="res://script/resource/building/SchoolData.tres" id="3_ohqkt"]
[ext_resource type="TileSet" uid="uid://dsnnh7f4ckv0w" path="res://scene/tileset/grasstree.tres" id="3_qmqw6"]
[ext_resource type="Script" path="res://script/component/playerinput/PlayerInput.gd" id="6_i0wp4"]
[ext_resource type="Script" path="res://script/resource/CityResource.gd" id="7_dqgsa"]
[ext_resource type="Script" path="res://script/entity/cardmanager/CardManager.gd" id="10_0c5ni"]
[ext_resource type="Script" path="res://script/entity/statusmanager/StatusManager.gd" id="11_jfymx"]

[sub_resource type="Resource" id="Resource_fb7xx"]
script = ExtResource("7_dqgsa")
population = 10
mood = 50
health = 50
money = 50

[node name="Level" type="Node"]

[node name="UI" parent="." instance=ExtResource("1_g82vk")]

[node name="EntityManager" type="Node2D" parent="."]
script = ExtResource("2_p2aqo")

[node name="Camera2D" type="Camera2D" parent="EntityManager"]
position = Vector2(212, 114)
zoom = Vector2(2, 2)

[node name="BackgroundLayer" type="TileMapLayer" parent="EntityManager"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAAAAAwAHAAEAAAAAAAEAAwAGAAAAAAABAAAAAwAHAAEAAAABAAEAAwAHAAEAAAACAAAAAwACAAAAAAACAAEAAwAHAAEAAAADAAAAAwAHAAEAAAADAAEAAwAHAAEAAAAEAAAAAwAGAAEAAAAEAAEAAwACAAEAAAAFAAAAAwAHAAAAAAAFAAEAAwAHAAEAAAABAAIAAwACAAAAAAACAAIAAwADAAEAAAADAAIAAwAHAAAAAAAEAAIAAwADAAEAAAAFAAIAAwACAAAAAAAGAAIAAwADAAEAAAAHAAIAAwACAAAAAAAIAAIAAwACAAAAAAAJAAIAAwACAAAAAAAKAAIAAwAHAAAAAAALAAIAAwAHAAAAAAAMAAIAAwACAAEAAAANAAIAAwAHAAEAAAAOAAIAAwAHAAEAAAAPAAIAAwAAAAIAAAAAAAIAAwACAAEAAAAAAAMAAwACAAEAAAAAAAQAAwACAAEAAAAAAAUAAwAHAAAAAAAAAAYAAwAHAAEAAAAAAAcAAwACAAEAAAAAAAgAAwAEAAAAAAAAAAkAAwAEAAEAAAABAAMAAwACAAAAAAABAAQAAwAHAAAAAAABAAUAAwACAAEAAAABAAYAAwACAAAAAAABAAcAAwAHAAAAAAABAAgAAwAFAAAAAAABAAkAAwAFAAEAAAACAAMAAwADAAEAAAACAAQAAwADAAEAAAACAAUAAwACAAAAAAACAAYAAwAHAAAAAAACAAcAAwAHAAEAAAACAAgAAwAEAAAAAAACAAkAAwAEAAEAAAADAAMAAwACAAEAAAADAAQAAwAGAAEAAAADAAUAAwACAAAAAAADAAYAAwAHAAEAAAADAAcAAwACAAAAAAADAAgAAwAIAAAAAAADAAkAAwAIAAEAAAAEAAMAAwACAAAAAAAEAAQAAwAHAAAAAAAEAAUAAwACAAAAAAAEAAYAAwAHAAEAAAAEAAcAAwADAAEAAAAEAAgAAwAJAAAAAAAEAAkAAwAJAAEAAAAFAAMAAwADAAEAAAAFAAQAAwAHAAEAAAAFAAUAAwACAAEAAAAFAAYAAwAHAAEAAAAFAAcAAwAGAAEAAAAFAAgAAwAIAAAAAAAFAAkAAwAIAAEAAAAGAAMAAwAHAAAAAAAGAAQAAwADAAEAAAAGAAUAAwAHAAEAAAAGAAYAAwAGAAAAAAAGAAcAAwACAAAAAAAGAAgAAwAJAAAAAAAGAAkAAwAJAAEAAAAHAAMAAwAHAAAAAAAHAAQAAwAGAAEAAAAHAAUAAwADAAEAAAAHAAYAAwAHAAEAAAAHAAcAAwACAAEAAAAHAAgAAwAIAAAAAAAHAAkAAwAIAAEAAAAIAAMAAwADAAAAAAAIAAQAAwADAAAAAAAIAAUAAwAGAAEAAAAIAAYAAwAHAAAAAAAIAAcAAwADAAAAAAAIAAgAAwAIAAAAAAAIAAkAAwAIAAEAAAAJAAMAAwACAAEAAAAJAAQAAwADAAAAAAAJAAUAAwADAAAAAAAJAAYAAwACAAEAAAAJAAcAAwAHAAAAAAAJAAgAAwAJAAAAAAAJAAkAAwAJAAEAAAAKAAMAAwACAAAAAAAKAAQAAwADAAEAAAAKAAUAAwACAAAAAAAKAAYAAwACAAEAAAAKAAcAAwAGAAEAAAAKAAgAAwAIAAAAAAAKAAkAAwAIAAEAAAALAAMAAwAGAAEAAAALAAQAAwACAAAAAAALAAUAAwAGAAEAAAALAAYAAwAGAAAAAAALAAcAAwADAAEAAAALAAgAAwAJAAAAAAALAAkAAwAJAAEAAAAMAAMAAwAHAAAAAAAMAAQAAwAGAAAAAAAMAAUAAwACAAAAAAAMAAYAAwAGAAEAAAAMAAcAAwACAAEAAAAMAAgAAwAIAAAAAAAMAAkAAwAIAAEAAAANAAMAAwACAAEAAAANAAQAAwAGAAAAAAANAAUAAwADAAAAAAANAAYAAwADAAEAAAANAAcAAwACAAAAAAANAAgAAwAJAAAAAAANAAkAAwAJAAEAAAAOAAMAAwADAAEAAAAOAAQAAwACAAEAAAAOAAUAAwADAAEAAAAOAAYAAwADAAEAAAAOAAcAAwAHAAEAAAAOAAgAAwAIAAAAAAAOAAkAAwAIAAEAAAAPAAMAAwAAAAMAAAAPAAQAAwAAAAIAAAAPAAUAAwAAAAMAAAAPAAYAAwAAAAIAAAAPAAcAAwAAAAMAAAAPAAgAAwAJAAAAAAAPAAkAAwAJAAEAAAAQAAIAAwAIAAAAAAAQAAMAAwAIAAEAAAAQAAQAAwAIAAAAAAAQAAUAAwAIAAEAAAAQAAYAAwAIAAAAAAAQAAcAAwAIAAEAAAAQAAgAAwAIAAAAAAAQAAkAAwAIAAEAAAARAAIAAwAJAAAAAAARAAMAAwAJAAEAAAARAAQAAwAJAAAAAAARAAUAAwAJAAEAAAARAAYAAwAJAAAAAAARAAcAAwAJAAEAAAARAAgAAwAJAAAAAAARAAkAAwAJAAEAAAAGAAAAAwACAAEAAAAGAAEAAwACAAEAAAAHAAAAAwAGAAAAAAAHAAEAAwAGAAAAAAAIAAAAAwAGAAAAAAAIAAEAAwACAAEAAAAJAAAAAwACAAEAAAAJAAEAAwAGAAAAAAAKAAAAAwAHAAEAAAAKAAEAAwACAAAAAAALAAAAAwADAAEAAAALAAEAAwACAAAAAAAMAAAAAwAHAAEAAAAMAAEAAwAGAAEAAAANAAAAAwAHAAEAAAANAAEAAwAGAAEAAAAOAAAAAwADAAEAAAAOAAEAAwAGAAEAAAAPAAAAAwAAAAIAAAAPAAEAAwAAAAMAAAAQAAAAAwABAAIAAAAQAAEAAwABAAMAAAARAAAAAwAIAAAAAAARAAEAAwAIAAEAAAD+/wAAAwAIAAIAAAD+/wEAAwAIAAMAAAD+/wIAAwAIAAIAAAD+/wMAAwAIAAMAAAD+/wQAAwAIAAIAAAD+/wUAAwAIAAMAAAD+/wYAAwAIAAIAAAD+/wcAAwAIAAMAAAD+/wgAAwAEAAAAAAD+/wkAAwAEAAEAAAD//wAAAwAJAAIAAAD//wEAAwAJAAMAAAD//wIAAwAJAAIAAAD//wMAAwAJAAMAAAD//wQAAwAJAAIAAAD//wUAAwAJAAMAAAD//wYAAwABAAAAAAD//wcAAwABAAEAAAD//wgAAwAFAAAAAAD//wkAAwAFAAEAAAASAAAAAwAJAAAAAAASAAEAAwAJAAEAAAATAAAAAwAEAAAAAAATAAEAAwAEAAEAAAASAAIAAwABAAIAAAASAAMAAwABAAMAAAATAAIAAwAIAAAAAAATAAMAAwAIAAEAAAASAAQAAwAIAAAAAAASAAUAAwAIAAEAAAATAAQAAwAIAAAAAAATAAUAAwAIAAEAAAASAAYAAwABAAQAAAASAAcAAwABAAUAAAATAAYAAwAIAAAAAAATAAcAAwAIAAEAAAASAAgAAwAIAAAAAAASAAkAAwAIAAEAAAATAAgAAwAIAAAAAAATAAkAAwAIAAEAAAD+//7/AwAEAAAAAAD+////AwAEAAEAAAD///7/AwAFAAAAAAD/////AwAFAAEAAAAAAP7/AwAEAAAAAAAAAP//AwAEAAEAAAABAP7/AwAFAAAAAAABAP//AwAFAAEAAAACAP7/AwAEAAAAAAACAP//AwAEAAEAAAADAP7/AwAFAAAAAAADAP//AwAFAAEAAAAEAP7/AwAEAAAAAAAEAP//AwAEAAEAAAAFAP7/AwAFAAAAAAAFAP//AwAFAAEAAAAGAP7/AwAEAAAAAAAGAP//AwAEAAEAAAAHAP7/AwAFAAAAAAAHAP//AwAFAAEAAAAIAP7/AwAEAAAAAAAIAP//AwAEAAEAAAAJAP7/AwAFAAAAAAAJAP//AwAFAAEAAAAKAP7/AwAEAAAAAAAKAP//AwAEAAEAAAALAP7/AwAFAAAAAAALAP//AwAFAAEAAAAMAP7/AwAEAAAAAAAMAP//AwAEAAEAAAANAP7/AwAFAAAAAAANAP//AwAFAAEAAAAOAP7/AwAEAAAAAAAOAP//AwAEAAEAAAAPAP7/AwAFAAAAAAAPAP//AwAFAAEAAAAQAP7/AwAEAAAAAAAQAP//AwAEAAEAAAARAP7/AwAFAAAAAAARAP//AwAFAAEAAAASAP7/AwAEAAAAAAASAP//AwAEAAEAAAATAP7/AwAEAAAAAAATAP//AwAEAAEAAAD8/wAAAwAIAAAAAAD8/wEAAwAIAAEAAAD9/wAAAwAJAAAAAAD9/wEAAwAJAAEAAAD8/wIAAwAIAAAAAAD8/wMAAwAIAAEAAAD9/wIAAwAJAAAAAAD9/wMAAwAJAAEAAAD8/wQAAwAIAAAAAAD8/wUAAwAIAAEAAAD9/wQAAwAJAAAAAAD9/wUAAwAJAAEAAAD8/wYAAwAIAAAAAAD8/wcAAwAIAAEAAAD9/wYAAwAJAAAAAAD9/wcAAwAJAAEAAAD8//7/AwAIAAAAAAD8////AwAIAAEAAAD9//7/AwAJAAAAAAD9////AwAJAAEAAAD8/wgAAwAIAAAAAAD8/wkAAwAIAAEAAAD9/wgAAwAJAAAAAAD9/wkAAwAJAAEAAAD8//z/AwAIAAAAAAD8//3/AwAIAAEAAAD9//z/AwAJAAAAAAD9//3/AwAJAAEAAAD+//z/AwAIAAAAAAD+//3/AwAIAAEAAAD///z/AwAJAAAAAAD///3/AwAJAAEAAAAAAPz/AwAIAAAAAAAAAP3/AwAIAAEAAAABAPz/AwAJAAAAAAABAP3/AwAJAAEAAAACAPz/AwAEAAAAAAACAP3/AwAEAAEAAAADAPz/AwAFAAAAAAADAP3/AwAFAAEAAAAEAPz/AwAEAAAAAAAEAP3/AwAEAAEAAAAFAPz/AwAFAAAAAAAFAP3/AwAFAAEAAAAGAPz/AwAEAAAAAAAGAP3/AwAEAAEAAAAHAPz/AwAFAAAAAAAHAP3/AwAFAAEAAAAIAPz/AwAEAAAAAAAIAP3/AwAEAAEAAAAJAPz/AwAFAAAAAAAJAP3/AwAFAAEAAAAKAPz/AwAIAAAAAAAKAP3/AwAIAAEAAAALAPz/AwAJAAAAAAALAP3/AwAJAAEAAAAMAPz/AwAIAAAAAAAMAP3/AwAIAAEAAAANAPz/AwAJAAAAAAANAP3/AwAJAAEAAAAOAPz/AwAEAAAAAAAOAP3/AwAEAAEAAAAPAPz/AwAFAAAAAAAPAP3/AwAFAAEAAAAQAPz/AwAEAAAAAAAQAP3/AwAEAAEAAAARAPz/AwAEAAAAAAARAP3/AwAEAAEAAAD6//z/AwAJAAAAAAD6//3/AwAJAAEAAAD7//z/AwAFAAAAAAD7//3/AwAFAAEAAAD6//7/AwAJAAAAAAD6////AwAJAAEAAAD7//7/AwAFAAAAAAD7////AwAFAAEAAAD6/wAAAwAJAAAAAAD6/wEAAwAJAAEAAAD7/wAAAwAFAAAAAAD7/wEAAwAFAAEAAAD6/wIAAwAJAAAAAAD6/wMAAwAJAAEAAAD7/wIAAwAJAAAAAAD7/wMAAwAJAAEAAAD6/wQAAwAJAAAAAAD6/wUAAwAJAAEAAAD7/wQAAwAJAAAAAAD7/wUAAwAJAAEAAAD6/wYAAwAJAAAAAAD6/wcAAwAJAAEAAAD7/wYAAwAJAAAAAAD7/wcAAwAJAAEAAAD6/wgAAwAJAAAAAAD6/wkAAwAJAAEAAAD7/wgAAwAFAAAAAAD7/wkAAwAFAAEAAAD7/woAAwAEAAAAAAD7/wsAAwAEAAEAAAD8/woAAwAFAAAAAAD8/wsAAwAFAAEAAAD9/woAAwAEAAAAAAD9/wsAAwAEAAEAAAD+/woAAwAFAAAAAAD+/wsAAwAFAAEAAAD//woAAwAEAAAAAAD//wsAAwAEAAEAAAAAAAoAAwAFAAAAAAAAAAsAAwAFAAEAAAABAAoAAwAIAAAAAAABAAsAAwAIAAEAAAACAAoAAwAJAAAAAAACAAsAAwAJAAEAAAADAAoAAwAIAAAAAAADAAsAAwAIAAEAAAAEAAoAAwAJAAAAAAAEAAsAAwAJAAEAAAAFAAoAAwAIAAAAAAAFAAsAAwAIAAEAAAAGAAoAAwAJAAAAAAAGAAsAAwAJAAEAAAAHAAoAAwAIAAAAAAAHAAsAAwAIAAEAAAAIAAoAAwAJAAAAAAAIAAsAAwAJAAEAAAAJAAoAAwAIAAAAAAAJAAsAAwAIAAEAAAAKAAoAAwAJAAAAAAAKAAsAAwAJAAEAAAALAAoAAwAIAAAAAAALAAsAAwAIAAEAAAAMAAoAAwAJAAAAAAAMAAsAAwAJAAEAAAANAAoAAwAIAAAAAAANAAsAAwAIAAEAAAAOAAoAAwAJAAAAAAAOAAsAAwAJAAEAAAAPAAoAAwAIAAAAAAAPAAsAAwAIAAEAAAAQAAoAAwAJAAAAAAAQAAsAAwAJAAEAAAARAAoAAwAIAAAAAAARAAsAAwAIAAEAAAASAAoAAwAJAAAAAAASAAsAAwAJAAEAAAATAAoAAwAIAAAAAAATAAsAAwAIAAEAAAAUAAoAAwAJAAAAAAAUAAsAAwAJAAEAAAAVAAoAAwAIAAAAAAAVAAsAAwAIAAEAAAAWAAoAAwAJAAAAAAAWAAsAAwAJAAEAAAAVAAgAAwAIAAAAAAAVAAkAAwAIAAEAAAAWAAgAAwAJAAAAAAAWAAkAAwAJAAEAAAAUAAYAAwAJAAAAAAAUAAcAAwAJAAEAAAAUAAQAAwAJAAAAAAAUAAUAAwAJAAEAAAAUAAIAAwAJAAAAAAAUAAMAAwAJAAEAAAAUAAgAAwAJAAAAAAAUAAkAAwAJAAEAAAAVAAYAAwAIAAAAAAAVAAcAAwAIAAEAAAAWAAYAAwAJAAAAAAAWAAcAAwAJAAEAAAAVAAQAAwAIAAAAAAAVAAUAAwAIAAEAAAAWAAQAAwAJAAAAAAAWAAUAAwAJAAEAAAAVAAIAAwAIAAAAAAAVAAMAAwAIAAEAAAAWAAIAAwAJAAAAAAAWAAMAAwAJAAEAAAAVAAAAAwAEAAAAAAAVAAEAAwAEAAEAAAAWAAAAAwAFAAAAAAAWAAEAAwAFAAEAAAAUAAAAAwAFAAAAAAAUAAEAAwAFAAEAAAAUAP7/AwAFAAAAAAAUAP//AwAFAAEAAAAVAP7/AwAEAAAAAAAVAP//AwAEAAEAAAAWAP7/AwAFAAAAAAAWAP//AwAFAAEAAAAVAPz/AwAEAAAAAAAVAP3/AwAEAAEAAAAWAPz/AwAFAAAAAAAWAP3/AwAFAAEAAAATAPz/AwAEAAAAAAATAP3/AwAEAAEAAAAUAPz/AwAFAAAAAAAUAP3/AwAFAAEAAAASAPz/AwAFAAAAAAASAP3/AwAFAAEAAAD5/woAAwAIAAAAAAD5/wsAAwAIAAEAAAD6/woAAwAJAAAAAAD6/wsAAwAJAAEAAAD5/wkAAwAIAAEAAAD5/wcAAwAIAAEAAAD5/wgAAwAIAAAAAAD5/wUAAwAIAAEAAAD5/wYAAwAIAAAAAAD5/wMAAwAIAAEAAAD5/wQAAwAIAAAAAAD5/wEAAwAIAAEAAAD5/wIAAwAIAAAAAAD5/wAAAwAIAAAAAAD5//7/AwAIAAAAAAD5////AwAIAAEAAAD5//z/AwAIAAAAAAD5//3/AwAIAAEAAAA=")
tile_set = ExtResource("3_qmqw6")

[node name="BuildingLayer" type="TileMapLayer" parent="EntityManager"]
script = ExtResource("3_no30c")

[node name="BuildUtils" type="Node" parent="EntityManager" node_paths=PackedStringArray("tile_layer")]
script = ExtResource("2_83224")
test_building = ExtResource("3_ohqkt")
tile_layer = NodePath("../BackgroundLayer")
grid_bounds = Vector2i(15, 8)

[node name="ResourceUtils" type="Node" parent="EntityManager" node_paths=PackedStringArray("build_utils")]
script = ExtResource("2_l86aw")
build_utils = NodePath("../BuildUtils")
resource = SubResource("Resource_fb7xx")

[node name="PlayerInput" type="Node2D" parent="EntityManager" node_paths=PackedStringArray("build_utils")]
script = ExtResource("6_i0wp4")
build_utils = NodePath("../BuildUtils")

[node name="CardManager" type="Node" parent="EntityManager"]
script = ExtResource("10_0c5ni")
hand_limit = 5
deck_size = 16
energy = 30
"Build Bar Starters" = 1
"Christmas Event Starters" = 1
"Build Company Starters" = 1
"Build Eatery Starters" = 1
"Build Hospital Starters" = 1
"Build House Starters" = 6
"Local Festival Starters" = 1
"Build Market Starters" = 1
"Build Pub Starters" = 1
"Build School Starters" = 1
"Build Supermarket Starters" = 1

[node name="StatusManager" type="Node" parent="EntityManager"]
script = ExtResource("11_jfymx")

[connection signal="building_built" from="EntityManager/BuildUtils" to="EntityManager" method="_on_build_utils_building_built"]
